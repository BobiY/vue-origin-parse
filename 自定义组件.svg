<svg id="kity_svg_12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2151" height="980" style="background: #e6eef2;" viewBox="0 0 2151 980"><style>* {margin: 0;padding: 0;}</style><defs id="kity_defs_13"><linearGradient id="kity_linearGradient_24" x1="0" y1="0" x2="0" y2="1"><stop id="kity_stop_25" offset="0" stop-color="rgb(67, 188, 0)"></stop><stop id="kity_stop_26" offset="1" stop-color="rgb(67, 188, 0)"></stop></linearGradient><marker id="kity_marker_0" orient="auto" markerWidth="13" markerHeight="13" refX="12" refY="6"><path id="kity_path_1" fill="#3982fc" stroke="none" d="M2,2 L4,6 L2,11 L12,6 Z"></path></marker><g id="symbol-nwse-resize" style="cursor: pointer;"><path id="kity_path_3" fill="white" stroke="#ccc" d="M16,6A10,10,0,1,1,-4,6A10,10,0,1,1,16,6"></path><path id="kity_path_4" fill="#fdaa28" stroke="none" d="M11.3 12.4l-3.8-.5c-.4 0-.7-.3-.8-.7-.1-.4 0-.8.2-1l.8-.8-4.2-4.2-.8.8c-.2.2-.4.3-.7.3-.5 0-.9-.4-1-.9L.5 1.6c0-.3.1-.6.2-.8.2-.2.5-.3.7-.3h.1l3.8.5c.4 0 .7.3.8.7.1.4 0 .8-.2 1l-.8.8 4.2 4.2.8-.8c.2-.2.4-.3.7-.3.5 0 .9.4 1 .9l.5 3.8c0 .3-.1.6-.2.8-.2.2-.5.3-.7.3h-.1"></path></g><image id="symbol-close-btn" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAhFBMVEUAAAD+wC3+zFX+vyz+vyz+vyz+vyz+vyz+vyz/5af/57D+vy3/4Zz+wjX+vyz+13v+yU3+vyz+vyz+vyz+vyz+vyz+vyz+vyz/673+24r/5ar+vyz+vyz+vyz/46L/673+24j////+vyz/+u/+13n//fj/9uH/+/P/78n+1XT+wTL+y1T7oNo1AAAAIXRSTlMA8+KwiDwSBe38+fb06+nn4cunoX9qNyb86PLMxi/z++fM2sGjAAABhklEQVRIx+2VyZqCMBCEh1X2fRVcKBQB3//9Jl9kBoNBZuBqnXLIn3R1Ot1fH3G12/1nt6rEcihJoRwr6p9OT2RfwCDBl5PF25RAAyMtUN6HFDkgskXX0nXLFW0QOdGb8FIJgCkazbWiujaGaAKQ0jni4APwTsP+gTp5APzDzB0lIJzraqL6LABlyvUhEeJYcXQkjMTzE1GCqz1hIk52HSCvZpQDjvLyggFxTn007W3ce2sb6scDgumbJhrMjBL3/lL/Wr/0d8pkJrRkgsiASLPb9gBhBgLoW5prEZAn6SoA4xHKBT9MTZePMA2gUFnzAuxmPJow44KqsSGwCYhpXAzDEDSyeGrFrYhGpusGYpA7NRMCVsUyLFFZQMi8igToz3XVgah7rjcdkHYrkBWBrbC/Iskbn1L1lwvGV1eU5YriX/HFVn9ktl3sF9oFryntuYTGbUpEqU+Y/LX15QLgpzMNtgTgZWyDzYhzlIftbXx5WGwbSfzBV4yDryCDb9N4XR7iH/H0DcbqhmxM6YxzAAAAAElFTkSuQmCC" x="0" y="0" width="25" height="25" style="cursor: pointer;"></image></defs><g id="kity_g_14"><g id="minder1" text-rendering="optimize-speed" transform="translate( 883 67 ) matrix( 1 0 0 1 -84.83331298828125 5.5 )"><g id="minder_connect_group1" stroke-linecap="round"><path id="kity_path_41" fill="none" stroke="#bdc5c9" stroke-width="2" d="M50,27v20h-257V57" transform="translate( 0.5 0.5 )"></path><path id="kity_path_43" fill="none" stroke="#bdc5c9" stroke-width="1" d="M-207,92v10h0V108" transform="translate( 0 0 )"></path><path id="kity_path_45" fill="none" stroke="#bdc5c9" stroke-width="1" d="M-207,134v6h0V146" transform="translate( 0 0 )"></path><path id="kity_path_47" fill="none" stroke="#bdc5c9" stroke-width="1" d="M-207,172v6h0.5V184" transform="translate( 0 0 )"></path><path id="kity_path_49" fill="none" stroke="#bdc5c9" stroke-width="1" d="M-206,258v6h0V270" transform="translate( 0 0 )"></path><path id="kity_path_51" fill="none" stroke="#bdc5c9" stroke-width="1" d="M-206,296v6h0.5V308" transform="translate( 0 0 )"></path><path id="kity_path_53" fill="none" stroke="#bdc5c9" stroke-width="1" d="M-206,334v6h0.5V346" transform="translate( 0 0 )"></path><path id="kity_path_55" fill="none" stroke="#bdc5c9" stroke-width="2" d="M50,27v20h258V57" transform="translate( 0.5 0.5 )"></path><path id="kity_path_57" fill="none" stroke="#bdc5c9" stroke-width="1" d="M308,92v10h0.5V108" transform="translate( 0 0 )"></path><path id="kity_path_59" fill="none" stroke="#bdc5c9" stroke-width="1" d="M309,134v6h0.5V146" transform="translate( 0 0 )"></path><path id="kity_path_61" fill="none" stroke="#bdc5c9" stroke-width="1" d="M309,172v6h0.5V184" transform="translate( 0 0 )"></path><path id="kity_path_63" fill="none" stroke="#bdc5c9" stroke-width="1" d="M310,210v6h0.5V222" transform="translate( 0 0 )"></path><path id="kity_path_65" fill="none" stroke="#bdc5c9" stroke-width="1" d="M310,248v6h0.5V260" transform="translate( 0 0 )"></path><path id="kity_path_67" fill="none" stroke="#bdc5c9" stroke-width="1" d="M311,286v6h0.5V298" transform="translate( 0 0 )"></path><path id="kity_path_69" fill="none" stroke="#bdc5c9" stroke-width="1" d="M311,324v6h0V336" transform="translate( 0 0 )"></path><path id="kity_path_71" fill="none" stroke="#bdc5c9" stroke-width="1" d="M311,362v6h0V374" transform="translate( 0 0 )"></path><path id="kity_path_73" fill="none" stroke="#bdc5c9" stroke-width="1" d="M311,400v6h0V412" transform="translate( 0 0 )"></path><path id="kity_path_75" fill="none" stroke="#bdc5c9" stroke-width="1" d="M311,438v6h0V450" transform="translate( 0 0 )"></path><path id="kity_path_77" fill="none" stroke="#bdc5c9" stroke-width="1" d="M311,492v6h0V504" transform="translate( 0 0 )"></path><path id="kity_path_79" fill="none" stroke="#bdc5c9" stroke-width="1" d="M311,530v6h0V542" transform="translate( 0 0 )"></path><path id="kity_path_81" fill="none" stroke="#bdc5c9" stroke-width="1" d="M311,568v6h0V580" transform="translate( 0 0 )"></path><path id="kity_path_83" fill="none" stroke="#bdc5c9" stroke-width="1" d="M311,622v6h0.5V634" transform="translate( 0 0 )"></path><path id="kity_path_85" fill="none" stroke="#bdc5c9" stroke-width="1" d="M312,660v6h0V672" transform="translate( 0 0 )"></path><path id="kity_path_87" fill="none" stroke="#bdc5c9" stroke-width="1" d="M312,698v6h0V710" transform="translate( 0 0 )"></path><path id="kity_path_89" fill="none" stroke="#bdc5c9" stroke-width="1" d="M312,736v6h0V748" transform="translate( 0 0 )"></path><path id="kity_path_91" fill="none" stroke="#bdc5c9" stroke-width="1" d="M312,774v6h0.5V786" transform="translate( 0 0 )"></path><path id="kity_path_93" fill="none" stroke="#bdc5c9" stroke-width="1" d="M312,812v6h0.5V824" transform="translate( 0 0 )"></path><path id="kity_path_95" fill="none" stroke="#bdc5c9" stroke-width="1" d="M313,850v6h0.5V862" transform="translate( 0 0 )"></path></g><g id="minder_selectedRect_group1"></g><g id="minder_rel_line_group1"><g id="minder_rel_line1"><path id="kity_path_109" fill="none" stroke="#3982fc" stroke-width="1" stroke-dasharray="6,3" marker-end="url(#kity_marker_0)" d="M0,0M-604.6666632228425,386.944445459931C-380.16666322284254,423.944445459931,-77.5,443.5,-77.5,372"></path><path id="kity_path_110" fill="none" stroke="transparent" stroke-width="8" d="M0,0M-604.6666632228425,386.944445459931C-380.16666322284254,423.944445459931,-77.5,443.5,-77.5,372" style="cursor: pointer;"></path></g><g id="minder_rel_line2"><path id="kity_path_112" fill="none" stroke="#3982fc" stroke-width="1" stroke-dasharray="6,3" marker-end="url(#kity_marker_0)" d="M0,0M868.5,-5.5C476.5,24.5,864.5,295.5,483,336"></path><path id="kity_path_113" fill="none" stroke="transparent" stroke-width="8" d="M0,0M868.5,-5.5C476.5,24.5,864.5,295.5,483,336" style="cursor: pointer;"></path></g><g id="minder_rel_line3"><path id="kity_path_115" fill="none" stroke="#3982fc" stroke-width="1" stroke-dasharray="6,3" marker-end="url(#kity_marker_0)" d="M0,0M868.5,-5.5C510.5,303.5,879.5,762.5,439,762.5"></path><path id="kity_path_116" fill="none" stroke="transparent" stroke-width="8" d="M0,0M868.5,-5.5C510.5,303.5,879.5,762.5,439,762.5" style="cursor: pointer;"></path></g><g id="minder_rel_line4"><path id="kity_path_118" fill="none" stroke="#3982fc" stroke-width="1" stroke-dasharray="6,3" marker-end="url(#kity_marker_0)" d="M0,0M1055,500.5C677.3333010143717,649.7222048816864,800.6666294468789,799.7221989212222,512,799.7221989212222"></path><path id="kity_path_119" fill="none" stroke="transparent" stroke-width="8" d="M0,0M1055,500.5C677.3333010143717,649.7222048816864,800.6666294468789,799.7221989212222,512,799.7221989212222" style="cursor: pointer;"></path></g></g><g id="minder_generalize_group1"></g><g id="minder_node1" transform="matrix( 1 0 0 1 0 0 )"><path id="node_outline1" fill="#1cabfc" d="M-20,-27h140a5,5,0,0,1,5,5v44a5,5,0,0,1,-5,5h-140a5,5,0,0,1,-5,-5v-44a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text1" fill="#fff"><foreignObject id="kity_foreignObject_32" width="100" height="24" x="0" y="-12" style="overflow: visible; visibility: visible;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 20px; color: rgb(255, 255, 255);"><p>自定义组件</p></div></foreignObject></g></g><g id="kity_g_18"><path id="kity_path_19" fill="none" stroke="none" d="M0,0h0v0h0z"></path></g><g id="kity_g_20"><path id="kity_path_21" fill="none" stroke="none" d="M0,0h0v0h0z"></path><path id="kity_path_22" fill="none" stroke="none"></path></g><g id="minder_node2" transform="matrix( 1 0 0 1 -239 75 )"><path id="node_outline11" fill="#fff" stroke="#ccc" d="M-12,-18h88a3,3,0,0,1,3,3v29a3,3,0,0,1,-3,3h-88a3,3,0,0,1,-3,-3v-29a3,3,0,0,1,3,-3z" stroke-width="1"></path><g id="node_text11" fill="#333"><foreignObject id="kity_foreignObject_133" width="64" style="overflow: visible; visibility: visible;" height="19" x="0" y="-10"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 16px; color: rgb(51, 51, 51);"><p>准备阶段</p></div></foreignObject></g></g><g id="minder_node3" transform="matrix( 1 0 0 1 -341 121 )"><path id="node_outline10" fill="#f00" d="M-5,-13h278a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-278a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text10" fill="#333"><foreignObject id="kity_foreignObject_131" width="268" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="background-color: rgb(255, 0, 0); color: rgb(255, 255, 255);">在 src/core/index.js 调用&#xa0;initGlobalAPI 开始</span></p></div></foreignObject></g></g><g id="minder_node4" transform="matrix( 1 0 0 1 -383 159 )"><path id="node_outline9" fill="#f00" d="M-5,-13h362a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-362a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text9" fill="#333"><foreignObject id="kity_foreignObject_129" width="352" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="color: rgb(255, 255, 255); background-color: rgb(255, 0, 0);">initGlobalAPI 方法的所在文件&#xa0;src/core/global-api/index.js</span></p></div></foreignObject></g></g><g id="minder_node5" transform="matrix( 1 0 0 1 -393 221 )"><path id="node_outline8" fill="transparent" d="M-5,-37h383a5,5,0,0,1,5,5v64a5,5,0,0,1,-5,5h-383a5,5,0,0,1,-5,-5v-64a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text8" fill="#333"><foreignObject id="kity_foreignObject_127" width="373" style="overflow: visible; visibility: visible;" height="64" x="0" y="-32"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>initGlobalAPI 中会调用&#xa0;initAssetRegisters 开始全局方法挂载</p><p>1. Vue.component 方法挂载</p><p>2. Vue.directive 方法挂载</p><p>4. Vue.filter 方法的挂载</p></div></foreignObject></g></g><g id="minder_node6" transform="matrix( 1 0 0 1 -381 283 )"><path id="node_outline7" fill="#f00" d="M-5,-13h359a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-359a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text7" fill="#333"><foreignObject id="kity_foreignObject_125" width="349" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="color: rgb(255, 255, 255); background-color: rgb(255, 0, 0);">initAssetRegisters 所在文件&#xa0;src/core/global-api/assets.js</span></p></div></foreignObject></g></g><g id="minder_node7" transform="matrix( 1 0 0 1 -416 321 )"><path id="node_outline6" fill="transparent" d="M-5,-13h430a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-430a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text6" fill="#333"><foreignObject id="kity_foreignObject_123" width="420" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>这方法完成了 Vue 构造器上的 component/directive/filter 方法的挂载</p></div></foreignObject></g></g><g id="minder_node8" transform="matrix( 1 0 0 1 -387 359 )"><path id="node_outline5" fill="transparent" d="M-5,-13h373a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-373a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text5" fill="#333"><foreignObject id="kity_foreignObject_121" width="363" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>最后会将注册的全局 组件/指令/方法 挂载到 Vue.options 上</p></div></foreignObject></g></g><g id="minder_node9" transform="matrix( 1 0 0 1 276 75 )"><path id="node_outline32" fill="#fff" stroke="#ccc" d="M-12,-18h88a3,3,0,0,1,3,3v29a3,3,0,0,1,-3,3h-88a3,3,0,0,1,-3,-3v-29a3,3,0,0,1,3,-3z" stroke-width="1"></path><g id="node_text32" fill="#333"><foreignObject id="kity_foreignObject_175" width="64" style="overflow: visible; visibility: visible;" height="19" x="0" y="-10"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 16px; color: rgb(51, 51, 51);"><p>挂载阶段</p></div></foreignObject></g></g><g id="minder_node10" transform="matrix( 1 0 0 1 90 121 )"><path id="node_outline31" fill="#f00" d="M-5,-13h447a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-447a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text31" fill="#333"><foreignObject id="kity_foreignObject_173" width="437" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="background-color: rgb(255, 0, 0); color: rgb(255, 255, 255);">挂载阶段发生在 调用 _render 时，定义文件&#xa0;src/core/instance/render.js</span></p></div></foreignObject></g></g><g id="minder_node11" transform="matrix( 1 0 0 1 98 159 )"><path id="node_outline30" fill="transparent" d="M-5,-13h432a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-432a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text30" fill="#333"><foreignObject id="kity_foreignObject_171" width="422" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>自定义组件被编译成 _c("comp") 形式，调用 createElement进行渲染</p></div></foreignObject></g></g><g id="minder_node12" transform="matrix( 1 0 0 1 133 197 )"><path id="node_outline29" fill="#f00" d="M-5,-13h363a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-363a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text29" fill="#333"><foreignObject id="kity_foreignObject_169" width="353" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="background-color: rgb(255, 0, 0); color: rgb(255, 255, 255);">createElement 所在文件&#xa0;src/core/vdom/create-element.js</span></p></div></foreignObject></g></g><g id="minder_node13" transform="matrix( 1 0 0 1 119 235 )"><path id="node_outline28" fill="transparent" d="M-5,-13h392a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-392a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text28" fill="#333"><foreignObject id="kity_foreignObject_167" width="382" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>createElement 会调用同文件的 _createElement 进行组件渲染</p></div></foreignObject></g></g><g id="minder_node14" transform="matrix( 1 0 0 1 104 273 )"><path id="node_outline27" fill="transparent" d="M-5,-13h423a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-423a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text27" fill="#333"><foreignObject id="kity_foreignObject_165" width="413" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>当监测到当前处理的是自定义组件时，调用&#xa0;createComponent 处理</p></div></foreignObject></g></g><g id="minder_node15" transform="matrix( 1 0 0 1 114 311 )"><path id="node_outline26" fill="#f00" d="M-5,-13h404a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-404a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text26" fill="#333"><foreignObject id="kity_foreignObject_163" width="394" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="background-color: rgb(255, 0, 0); color: rgb(255, 255, 255);">createComponent 所在文件&#xa0;src/core/vdom/create-component.js</span></p></div></foreignObject></g></g><g id="minder_node16" transform="matrix( 1 0 0 1 149 349 )"><path id="node_outline25" fill="transparent" d="M-5,-13h334a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-334a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text25" fill="#333"><foreignObject id="kity_foreignObject_161" width="324" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>调用&#xa0;installComponentHooks 完成组件管理钩子挂载</p></div></foreignObject></g></g><g id="minder_node17" transform="matrix( 1 0 0 1 178 387 )"><path id="node_outline24" fill="transparent" d="M-5,-13h276a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-276a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text24" fill="#333"><foreignObject id="kity_foreignObject_159" width="266" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>&#xa0;接着调用 Vnode 构造出组件 vnode 的构建</p></div></foreignObject></g></g><g id="minder_node18" transform="matrix( 1 0 0 1 246 425 )"><path id="node_outline23" fill="transparent" d="M-5,-13h140a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-140a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text23" fill="#333"><foreignObject id="kity_foreignObject_157" width="130" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>将构建的 vnode 返回</p></div></foreignObject></g></g><g id="minder_node19" transform="matrix( 1 0 0 1 181 471 )"><path id="node_outline22" fill="transparent" d="M-5,-21h270a5,5,0,0,1,5,5v32a5,5,0,0,1,-5,5h-270a5,5,0,0,1,-5,-5v-32a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text22" fill="#333"><foreignObject id="kity_foreignObject_155" width="260" style="overflow: visible; visibility: visible;" height="32" x="0" y="-16"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>组件的 _render 阶段完成，</p><p>调用&#xa0; _update 开启 patch 也就是 diff 过程&#xa0;</p></div></foreignObject></g></g><g id="minder_node20" transform="matrix( 1 0 0 1 178 517 )"><path id="node_outline21" fill="#f00" d="M-5,-13h276a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-276a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text21" fill="#333"><foreignObject id="kity_foreignObject_153" width="266" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="color: rgb(255, 255, 255); background-color: rgb(255, 0, 0);">patch 函数所在目录&#xa0;src/core/vdom/patch.js</span></p></div></foreignObject></g></g><g id="minder_node21" transform="matrix( 1 0 0 1 141 555 )"><path id="node_outline20" fill="transparent" d="M-5,-13h350a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-350a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text20" fill="#333"><foreignObject id="kity_foreignObject_151" width="340" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>patch 中会调用&#xa0;createElm 来根据 vnode 创建真实 dom</p></div></foreignObject></g></g><g id="minder_node22" transform="matrix( 1 0 0 1 108 601 )"><path id="node_outline19" fill="transparent" d="M-5,-21h416a5,5,0,0,1,5,5v32a5,5,0,0,1,-5,5h-416a5,5,0,0,1,-5,-5v-32a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text19" fill="#333"><foreignObject id="kity_foreignObject_149" width="406" style="overflow: visible; visibility: visible;" height="32" x="0" y="-16"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>按照同级比较，深度优先的原则，调用 vnode 创建 dom 时，</p><p>如果遇到子组件，会递归所有子组件，最后吃完成当前组件的挂载</p></div></foreignObject></g></g><g id="minder_node23" transform="matrix( 1 0 0 1 178 647 )"><path id="node_outline18" fill="#f00" d="M-5,-13h277a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-277a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text18" fill="#333"><foreignObject id="kity_foreignObject_147" width="267" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="color: rgb(255, 255, 255); background-color: rgb(255, 0, 0);">createElm 所在文件&#xa0;src/core/vdom/patch.js</span></p></div></foreignObject></g></g><g id="minder_node24" transform="matrix( 1 0 0 1 98 685 )"><path id="node_outline17" fill="transparent" d="M-5,-13h437a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-437a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text17" fill="#333"><foreignObject id="kity_foreignObject_145" width="427" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>如果子元素是自定义组件，调用&#xa0;createComponent 开始子组件的处理</p></div></foreignObject></g></g><g id="minder_node25" transform="matrix( 1 0 0 1 142 723 )"><path id="node_outline16" fill="#f00" d="M-5,-13h349a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-349a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text16" fill="#333"><foreignObject id="kity_foreignObject_143" width="339" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="color: rgb(255, 255, 255); background-color: rgb(255, 0, 0);">createComponent 所在文件位置src/core/vdom/patch.js</span></p></div></foreignObject></g></g><g id="minder_node26" transform="matrix( 1 0 0 1 194 761 )"><path id="node_outline15" fill="transparent" d="M-5,-13h245a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-245a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text15" fill="#333"><foreignObject id="kity_foreignObject_141" width="235" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>首先从 data.hook 获取并执行 init 钩子</p></div></foreignObject></g></g><g id="minder_node27" transform="matrix( 1 0 0 1 122 799 )"><path id="node_outline14" fill="#f00" d="M-5,-13h390a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-390a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text14" fill="#333"><foreignObject id="kity_foreignObject_139" width="380" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p><span style="background-color: rgb(255, 0, 0); color: rgb(255, 255, 255);">init钩子会创建自定义组件的实例，并完成 $mount 的挂载过程</span></p></div></foreignObject></g></g><g id="minder_node28" transform="matrix( 1 0 0 1 134 837 )"><path id="node_outline13" fill="transparent" d="M-5,-13h367a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-367a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text13" fill="#333"><foreignObject id="kity_foreignObject_137" width="357" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>在组件完成挂载以后，将创建的 dom 片段挂载到父元素上</p></div></foreignObject></g></g><g id="minder_node29" transform="matrix( 1 0 0 1 68 875 )"><path id="node_outline12" fill="transparent" d="M-5,-13h500a5,5,0,0,1,5,5v16a5,5,0,0,1,-5,5h-500a5,5,0,0,1,-5,-5v-16a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text12" fill="#333"><foreignObject id="kity_foreignObject_135" width="490" style="overflow: visible; visibility: visible;" height="16" x="0" y="-8"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(51, 51, 51);"><p>等待所有子孙级组件挂载完毕，父组件挂载完成，就能在页面中看到对应的视图</p></div></foreignObject></g></g><g id="minder_node30" transform="matrix( 1 0 0 1 -753.1666632228425 386.944445459931 )"><path id="node_outline2" fill="#1cabfc" d="M-20,-63h337a5,5,0,0,1,5,5v116a5,5,0,0,1,-5,5h-337a5,5,0,0,1,-5,-5v-116a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text2" fill="#fff"><foreignObject id="kity_foreignObject_98" width="297" style="overflow: visible; visibility: visible;" height="96" x="0" y="-48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(255, 255, 255);"><p>关于 Vue.options 的使用</p><p>1. 在组件初始化执行 _init 时，</p><p>会调用 mergeOptions 进行 options 合并</p><p>2. mergeOptions 的第一个参数就是 Vue.options</p><p>3. 也就是说，会将全局注册的 组件/指令/过滤器 </p><p>合并到每个Vue 实例上。</p></div></foreignObject></g></g><g id="minder_node31" transform="matrix( 1 0 0 1 651.5 -5.5 )"><path id="node_outline3" fill="#1cabfc" d="M-20,-47h474a5,5,0,0,1,5,5v84a5,5,0,0,1,-5,5h-474a5,5,0,0,1,-5,-5v-84a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text3" fill="#fff"><foreignObject id="kity_foreignObject_102" width="434" style="overflow: visible; visibility: visible;" height="64" x="0" y="-32"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(255, 255, 255);"><p>&#xa0;installComponentHooks 所在文件&#xa0;src/core/vdom/create-component.js</p><p>1. 循环&#xa0;componentVNodeHooks 完成</p><p>默认的 init/prepatch/insert/destory 的挂载</p><p>2. 此钩子是挂载在 options.data.hook 上的，在 patch 阶段会调用</p></div></foreignObject></g></g><g id="minder_node32" transform="matrix( 1 0 0 1 801.5 500.5 )"><path id="node_outline4" fill="#1cabfc" d="M-20,-79h547a5,5,0,0,1,5,5v148a5,5,0,0,1,-5,5h-547a5,5,0,0,1,-5,-5v-148a5,5,0,0,1,5,-5z" stroke-width="0"></path><g id="node_text4" fill="#fff"><foreignObject id="kity_foreignObject_106" width="507" style="overflow: visible; visibility: visible;" height="128" x="0" y="-64"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; vertical-align: top; white-space: nowrap; line-height: 1.2; text-align: left; font-size: 14px; color: rgb(255, 255, 255);"><p>关于 init 钩子</p><p>1. init 钩子执行时会先判断是否是 keep-alive 组件，如果是调用 prepatch 进行处理</p><p>2.. 如果是自定义组件，调用&#xa0;createComponentInstanceForVnode</p><p>（文件位置src/core/vdom/create-component.js）进行组件的实例创建</p><p>3. 执行组件实例的 $mount 方法</p><p>4. 这里有个细节，createComponentInstanceForVnode 方法会让组件实例的</p><p>options._parentVnode = parentNode 以此类推来控制是否是初始化渲染，以便在</p><p>_update 初次执行完时，执行 mounted 钩子</p></div></foreignObject></g></g></g></g></svg>